{"version":3,"kind":"Notebook","sha256":"5146cd49a128921146f83325d894c042c60c2cbb703e5fb57db3c370adcbc0f5","slug":"start","location":"/content/start.ipynb","dependencies":[],"frontmatter":{"title":"Getting started","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"3.13","language":"python"},"edit_url":null,"source_url":null,"exports":[{"format":"ipynb","filename":"start.ipynb","url":"/build/start-0532d73ec7fba0858963ba184954bc7f.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%load_ext autoreload\n%autoreload 2","visibility":"show","key":"QviSojRQto"},{"type":"outputs","id":"GO2BWvoCmP2c-HT3oyIOi","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"The autoreload extension is already loaded. To reload it, use:\n  %reload_ext autoreload\n"},"children":[],"key":"Tp6hujWtj9"}],"visibility":"show","key":"KpHsmxNbDy"}],"visibility":"remove","key":"SNdRfKdmiO"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Three types of data are required to fit a ReMeta model:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XkFuYZwMXu"}],"key":"nZ07v5CSCJ"},{"type":"comment","value":"-  Table -","key":"ScEOYHZkBb"},{"type":"table","position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Variable","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"r3PhQFUReY"}],"key":"Bhfss76G5r"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"FnKFx1EXdu"}],"key":"mJCXxgmj6m"}],"key":"PvL5jrqYkX"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"inlineCode","value":"stimuli","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"p9pBLfD0ol"}],"key":"al4kFe9S4L"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"list/array of signed stimulus intensity values, where the sign codes the stimulus category and the absolute value codes the intensity.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"WJJF1FskvM"}],"key":"W90hJlx2sy"}],"key":"D2iHNoulbg"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"inlineCode","value":"choices","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"mR2lKuZF6G"}],"key":"BIYwtQZDqx"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"list/array of choices coded as 0 (or alternatively -1) for the negative stimuli category and 1 for the positive stimulus category.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"VSoJbwjc3V"}],"key":"cVO9lQfRKy"}],"key":"e2iQ8BGJOj"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"inlineCode","value":"confidence","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ecwiW6Y4PJ"}],"key":"XeO3vkiBUT"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"list/array of confidence ratings. Confidence ratings must be normalized to [0; 1]. Discrete confidence ratings must be normalized accordingly (e.g., if confidence ratings are 1-4, subtract 1 and divide by 3).","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ud2jwUQE6Q"}],"key":"Raf3CAXfrn"}],"key":"AJambqEj1w"}],"key":"OsK7H6jg5w"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"When fitting individual participants, these are 1d lists / arrays with length ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"dpS6Y3mf6k"},{"type":"inlineCode","value":"n_trials","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"tyUIqscVY9"},{"type":"text","value":". If 2d lists / arrays are passed, ReMeta treats this as group data with shape ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"YX6ns1mQlb"},{"type":"inlineCode","value":"n_subjects","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"a58tfGR0ZR"},{"type":"text","value":" x ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"BweeyQVXUq"},{"type":"inlineCode","value":"n_trials","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"gr2xR32jD1"},{"type":"text","value":" (-> Group data).","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"sTuYMbJIcu"}],"key":"gWLjjahucs"}],"key":"GySYByYy9Z"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A simple example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jVCfpTMAda"}],"identifier":"a-simple-example","label":"A simple example","html_id":"a-simple-example","implicit":true,"key":"MXhC5lFN3z"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"To quickly demonstrate ReMeta, we load a simple build-in dataset as follows.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oMIBJ75Uqf"}],"key":"esFewcGwz9"}],"key":"ITjairL2HX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import remeta\nds = remeta.load_dataset('default')","key":"QLyVpKFOpg"},{"type":"outputs","id":"6nD3WGdOAl_yMWdamTR6W","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"----------------------------------\n..Generative model:\n    Type 2 noise type: noisy_report\n    Type 2 noise distribution: truncated_norm_mode\n..Generative parameters:\n    type1_noise: 0.5\n    type1_bias: -0.1\n    type2_noise: 0.3\n    type2_criteria: [0.25 0.5  0.75]\n        [extra] Criterion bias: 0\n        [extra] Criterion absolute deviation: 0\n..Descriptive statistics:\n    No. subjects: 1\n    No. samples: 2000\n    Performance: 86.5% correct\n    Choice bias: -3.1%\n    Confidence: 0.61\n    M-Ratio: 0.57\n    AUROC2: 0.68\n----------------------------------\n"},"children":[],"key":"OF4CF5nfuU"}],"key":"OTpIU5rdt1"}],"key":"JngpWTHcto"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The output provides information how the dataset was generated and some descriptive statistics.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LKgOAJ3Euf"}],"key":"SMHATusyQp"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The dataset was generated with four stimulus intensities. The psychometric function below shows that the observer performed at around 60% correct for the lowest (and most difficult) stimulus intensity and close to perfect for the highest intensity.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aVTwM9EmqQ"}],"key":"WFWolghb3v"}],"key":"MnCKsezeYB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"remeta.plot_psychometric(ds)","key":"kj70GPhDpT"},{"type":"outputs","id":"qUmM8kRR-74oipnZtGZ3Y","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"f1e69915376ace2ab739d62b65243f3d","path":"/build/f1e69915376ace2ab739d62b65243f3d.png"},"text/plain":{"content":"<Figure size 500x300 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"EwiyRKQqVb"}],"key":"wDbzVm1orz"}],"key":"OnxopnaFDW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The relationship between stimulus intensity and confidence likewise reflects the bias, but also shows that the observer is less sensitive than predicted by a model without metacognitive noise. In the above descriptive statistics is visible from the low M-Ratio of 0.58.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Wl7CJzrgpY"}],"key":"LK5e6ztpFS"}],"key":"Ibf8ZvIMeR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"remeta.plot_stimulus_versus_confidence(ds, model_prediction=True)","key":"RPpejsS9hV"},{"type":"outputs","id":"X4blQ8QSuuHt3w0BA-G5u","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ebb1da7bf224032cf997b7ba9c7943dd","path":"/build/ebb1da7bf224032cf997b7ba9c7943dd.png"},"text/plain":{"content":"<Figure size 500x300 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"TlIxubyK1o"}],"key":"JLtN6XsET3"}],"key":"ZZLGnSTEtL"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In a next step, we fit the model. Since the data were generated with the default ReMeta model, we do not need to define any other settings. We pass the Configuration option ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QNg0Krlope"},{"type":"inlineCode","value":"optim_type2_gridsearch=False","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q00JyHGvlV"},{"type":"text","value":" to the ReMeta instance though, to speed up this demo.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"A30xP065cu"}],"key":"b56qWBBDQQ"}],"key":"jdXWDCGUOj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"rem = remeta.ReMeta(optim_type2_gridsearch=False)\nrem.fit(ds.stimuli, ds.choices, ds.confidence)","key":"xT2GKo7eqh"},{"type":"outputs","id":"P-yhIcoPHU8G9ZjkWAIMm","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"\n+++ Type 1 level +++\n  Subject-level estimation (MLE)\n    .. finished (0.1 secs).\n  Final report\n    Parameters estimates (subject-level fit)\n        [subject] type1_noise: 0.503\n        [subject] type1_bias: -0.0821\n    [subject] Neg. LL: 683.64\n    [subject] Fitting time: 0.15 secs\nType 1 level finished\n\n+++ Type 2 level +++\n  Subject-level estimation (MLE)\n    .. finished (13.4 secs).\n  Final report\n    Parameters estimates (subject-level fit)\n        [subject] type2_noise: 0.287\n        [subject] type2_criteria: [0.24, 0.505, 0.755]\n            [extra] type2_criteria_bias: 0.000241\n            [extra] type2_criteria_absdev: 0.00681\n    [subject] Neg. LL: 3169.58\n    [subject] Fitting time: 13.39 secs\nType 2 level finished\n"},"children":[],"key":"ci3e3QqbXg"}],"key":"e2QNJbRvyz"}],"key":"JFFzGZH8ds"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Since the dataset is based on simulation, we know the true parameters of the underlying generative model (see first output), which are quite close to the fitted parameters.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yoygm3MYaI"}],"key":"oB0Jr3YIda"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can access the fitted parameters by invoking the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aen9IHgiKJ"},{"type":"inlineCode","value":"summary()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QgPNKZIuM8"},{"type":"text","value":" method on the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"kn9pXkfejM"},{"type":"inlineCode","value":"ReMeta","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BFKFZmE0Vx"},{"type":"text","value":" instance:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oTGLwdgNcc"}],"key":"S1u5jx6YUq"}],"key":"Oe1kjdohae"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Access fitted parameters\nimport numpy as np\nresult = rem.summary()\nfor k, v in result.params.items():\n    print(f'{k}: {np.array2string(np.array(v), precision=3)}')","key":"B8eRNljejW"},{"type":"outputs","id":"pqa-snufE5S0L0Mp78ga3","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"type1_noise: 0.503\ntype1_bias: -0.082\ntype2_noise: 0.287\ntype2_criteria: [0.24  0.505 0.755]\n"},"children":[],"key":"LKp4jio9Y5"}],"key":"GANfBifvDH"}],"key":"EWjcnzc3oq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"By default, the model fits parameters for type 1 noise and a type 1 bias, as well as metacognitive ‘type 2’ noise and three confidence criteria.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VZxAY78FXG"}],"key":"hEiPouAF6h"}],"key":"OH576cf4TZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Enabling and disabling parameters","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MpzpTwMEnQ"}],"identifier":"enabling-and-disabling-parameters","label":"Enabling and disabling parameters","html_id":"enabling-and-disabling-parameters","implicit":true,"key":"RY4Z4uz7K6"}],"key":"YfBXdqqBjd"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"ReMeta is not “a” model, but rather a framework for several possible models. To define a model, we need make architectural decisions, but also specify the set of parameters to fit. Model specification works via the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FkfSEdf1hv"},{"type":"inlineCode","value":"Configuration","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IIXTjndEwg"},{"type":"text","value":" object. While there is a dedicated section (->Link!) for the Configuration, we will introduce it briefly here.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SaSxZknBX9"}],"key":"v67oRD3ceP"}],"key":"utO71LREwk"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cfg = remeta.Configuration()","key":"MDCeq8YYiv"},{"type":"outputs","id":"1GlgjEgJFieL7so5MLSLf","children":[],"key":"z5zBOkWutq"}],"key":"n1GhdUL7An"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"For instance, we could fit the above data without a type 1 bias. To do so, we disable the corresponding parameter in the configuration.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NmCDlNBy6i"}],"key":"JYMSwzjilG"}],"key":"MWOGtvCHHA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cfg.param_type1_bias.enable = 0","key":"gTR9N6nKmN"},{"type":"outputs","id":"k-GiRkBsockvwrTkTETGw","children":[],"key":"ini0dJBSvs"}],"key":"QBMuuzyHzO"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D24Rycbfep"},{"type":"text","value":" disables a parameter and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"urYwolZyW7"},{"type":"inlineCode","value":"1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EYePGRp2eO"},{"type":"text","value":" enables a parameter. In addition, type 1 parameters can be separated by stimulus category by setting it to ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gMlts4HPCJ"},{"type":"inlineCode","value":"2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U19wFXdiQx"},{"type":"text","value":". In the case of confidence criteria (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JOdrqW9Dha"},{"type":"inlineCode","value":"type2_criteria","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hWmO57Zd0S"},{"type":"text","value":"), the number indicates the number of criteria (number of confidence ratings minus 1). Type 1 and type 2 noise parameters cannot be disabled since the model needs to be probabilistic in nature to compute likelihoods.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PcEMviuuHu"}],"key":"wgeTnPLZ1c"}],"key":"lZyZFMubiP"},{"type":"block","kind":"notebook-content","children":[{"type":"table","position":{"start":{"line":1,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SScfVeIOHr"}],"key":"L7IWthbPmf"},{"type":"tableCell","header":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TJb0iXhSN7"}],"key":"lRcltO3RcV"},{"type":"tableCell","header":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"default","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D3qpkESBIu"}],"key":"NDvqJohmeh"},{"type":"tableCell","header":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"supported","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Bw1HgjQEbz"}],"key":"w5OFJ5aiJ3"}],"key":"vBsqYuJGHY"},{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"inlineCode","value":"type1_noise","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VUvQi6IaC0"}],"key":"YBWGecF7DY"},{"type":"tableCell","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Type 1 noise","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IWFTDBb3Gw"}],"key":"O4FvqTjL63"},{"type":"tableCell","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"inlineCode","value":"1","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pgDvNowg9n"}],"key":"ydouOSBTGI"},{"type":"tableCell","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"inlineCode","value":"1","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Z4mIBlwkLY"},{"type":"text","value":",","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gbZxxu4X4h"},{"type":"inlineCode","value":"2","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WHSn7L3UqE"}],"key":"BVVeNko8ma"}],"key":"YFbd9pkSXD"},{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"inlineCode","value":"type1_thresh","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"DKYmP9MW97"}],"key":"R8D8Iru70K"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Sensory threshold","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"hLkcpGv1zP"}],"key":"uyKBpuGPGz"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"bGC2hofZoj"}],"key":"EsVlYQu1Kl"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"yU48FQeEsC"},{"type":"text","value":",","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"glFstY3aJ2"},{"type":"inlineCode","value":"1","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"HsEKiWpO7K"},{"type":"text","value":",","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"lTH8wzG3yY"},{"type":"inlineCode","value":"2","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"GPel73H0cJ"}],"key":"wDDrCUdZeh"}],"key":"uiNxlL1qQ3"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"inlineCode","value":"type1_bias","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"IYrlTIYY8G"}],"key":"rkX6C2wPDk"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Choice bias","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nPsnRV64NA"}],"key":"bNpt3NppzF"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"inlineCode","value":"1","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"BVDhsLRwj0"}],"key":"vABIn1NCok"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cVViS4gqFy"},{"type":"text","value":",","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"A0PLOwSPWU"},{"type":"inlineCode","value":"1","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ivsIl7fdZv"}],"key":"IIj4FZTsN9"}],"key":"Fn1440rQhC"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"inlineCode","value":"type1_nonlinear_encoding_gain","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"P5nRLAipdT"}],"key":"aHJAzvuRPp"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Nonlinear encoding","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"lGgljJR9w2"}],"key":"YjuwWvBVbP"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"XMaGXhDYKD"}],"key":"VgWclamx3Q"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"LlQ37QNaob"},{"type":"text","value":",","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"fyJ6xogZje"},{"type":"inlineCode","value":"1","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"pWjqRbezJt"},{"type":"text","value":",","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"LvXI4Tr61y"},{"type":"inlineCode","value":"2","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"wdshrkMLew"}],"key":"DcJAiV937N"}],"key":"FKKviij45i"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"inlineCode","value":"type1_nonlinear_encoding_scale","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BxmSEB1fIn"}],"key":"ejx4kHc5ko"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Nonlinear encoding","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"X80N2eiR4w"}],"key":"PtCBCBTEH3"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"f0G04MTSy7"}],"key":"NJoe6zAelE"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"CShRplxqqS"},{"type":"text","value":",","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"zXVaZpTV2v"},{"type":"inlineCode","value":"1","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"X9VkGJEpD2"},{"type":"text","value":",","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"T6XdhGxbFi"},{"type":"inlineCode","value":"2","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"KifG3xN53O"}],"key":"W4egpeevn5"}],"key":"vkp9wyvXdM"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"inlineCode","value":"type2_noise","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"fU2xqjRUr9"}],"key":"X0Sm5kN76M"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Metacognitive noise","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"CvkmbZ782X"}],"key":"hGpvhoXopU"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"inlineCode","value":"1","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"W4bUkinKHt"}],"key":"cStIQQ3l2B"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"inlineCode","value":"1","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"R7lCEXuIuG"}],"key":"NWmakfIvPu"}],"key":"BG2iP76Pa8"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"inlineCode","value":"type2_evidence_bias","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"I8sZPGoNLh"}],"key":"u91FvhU8Oe"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Metacognitive evidence bias","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"T9lJP6B5k8"}],"key":"AaqYyqXrs9"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"d1Z8k53tI8"}],"key":"ddwdT2nchl"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"sYGIupHQxH"},{"type":"text","value":",","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"wi9kM9PyYK"},{"type":"inlineCode","value":"1","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"QmtbBy4ZvM"}],"key":"khx1tNa3W4"}],"key":"EvQmoZWLzG"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"inlineCode","value":"type2_confidence_bias","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"gK0mfHWLm7"}],"key":"IvhaVJmXZe"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Metacognitive confidence bias","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"cAikYTf2uA"}],"key":"WaahwlYdWk"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"qCwaI7kA2R"}],"key":"U33ZKuMa37"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"iiZW2XL6ZK"},{"type":"text","value":",","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"IL6bbEVAS9"},{"type":"inlineCode","value":"1","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"dirxev4F9R"}],"key":"Ig53ikBU2B"}],"key":"ZApSpcAA36"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"inlineCode","value":"type2_criteria","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"GIyo3epahp"}],"key":"ESaPeAaABd"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Confidence criteria","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ttOWkM0fg8"}],"key":"D7SYFNoXtv"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"inlineCode","value":"3","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Ty0pecvoF9"}],"key":"SR5iQwSaHn"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"inlineCode","value":"0","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"l9THMGY9z1"},{"type":"text","value":",","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Jthj9XBx9y"},{"type":"inlineCode","value":"1","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"pNLFBcJ3G9"},{"type":"text","value":"...","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"yYl9E0SkLv"},{"type":"inlineCode","value":"10","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"JlVFXzcqia"}],"key":"NIwQKfHOb9"}],"key":"zQh8WSaKuF"}],"key":"v6tZSKd995"}],"key":"WQyKb8Mrjj"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Each parameter in the above table can be enabled or disabled by changing the value of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pMd1gCC2Kd"},{"type":"inlineCode","value":"cfg.param_<parameterName>.enable = X","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SToZm4yCA0"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sJmipuBIMX"}],"key":"dU8PDDo1OM"}],"key":"V8ekWkj267"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s fit the model to the same data, but this time without a type 1 bias. To let ReMeta know about our above setting ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rLyYJiZXxK"},{"type":"inlineCode","value":"cfg.param_type1_bias.enable = 0","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tJMFAZT6rs"},{"type":"text","value":", we pass the configuration instance to the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VpoY30bYqf"},{"type":"inlineCode","value":"ReMeta","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lRNIx0OpXp"},{"type":"text","value":" constructor:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Sh8xaiKNj2"}],"key":"ZCTGbuHUrB"}],"key":"e0Y1vYWlDp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"rem = remeta.ReMeta(cfg)\nrem.fit(ds.stimuli, ds.choices, ds.confidence)","key":"PpOgPLUA3a"},{"type":"outputs","id":"jgVk0lWmIg69ive1r_UqM","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"\n+++ Type 1 level +++\n  Subject-level estimation (MLE)\n    .. finished (0.1 secs).\n  Final report\n    Parameters estimates (subject-level fit)\n        [subject] type1_noise: 0.511\n    [subject] Neg. LL: 692.61\n    [subject] Fitting time: 0.09 secs\nType 1 level finished\n\n+++ Type 2 level +++\n  Subject-level estimation (MLE)\n    .. finished (39.6 secs).\n  Final report\n    Parameters estimates (subject-level fit)\n        [subject] type2_noise: 0.297\n        [subject] type2_criteria: [0.236, 0.498, 0.75]\n            [extra] type2_criteria_bias: -0.00551\n            [extra] type2_criteria_absdev: 0.00551\n    [subject] Neg. LL: 3184.77\n    [subject] Fitting time: 39.47 secs\nType 2 level finished\n"},"children":[],"key":"npkh78g0AI"}],"key":"FNRwEFdMyh"}],"key":"NqBqpPkfTN"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s check out the parameters:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"prDY2g64pX"}],"key":"mQC5XzOqhx"}],"key":"GyW6Rp5CZP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"result = rem.summary()\nfor k, v in result.params.items():\n    print(f'{k}: {np.array2string(np.array(v), precision=3)}')\n\n","key":"ahML28rC1O"},{"type":"outputs","id":"Pmk9eolocS_XMBPRbT8Zk","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"type1_noise: 0.511\ntype2_noise: 0.297\ntype2_criteria: [0.236 0.498 0.75 ]\n"},"children":[],"key":"r5NU3jEDn6"}],"key":"ukHffoI8ud"}],"key":"pqmpBVtzVV"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The fit is still good, although we note that the estimate of type 1 noise is slightly worse. In the output, we also see that the negative log-likelihood for the type 1 stage is significantly worse (692.61) than in the model that included a bias (683.64).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lrkqBC8z3P"}],"key":"wdpjyyrl6C"}],"key":"vPQ7PopBcA"}],"key":"Xu2gJ4Kvfl"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"General idea and terminology","url":"/intro","group":"Guide"},"next":{"title":"Type 1: the decision making stage","url":"/type1","group":"Guide"}}},"domain":"http://localhost:3000"}